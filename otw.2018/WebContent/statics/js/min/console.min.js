!function(e){var t=e.ConsoleFunction,n=!1,o=!1,i=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";function a(){var e=window.location.hash.replace("#","");console.log(e+"<--"),"true"==menu.isShow()?menu.hideDetailMenu(function(){u$("aside")[0].style.display="none",dispatchText(e)}):u$(".page_wrap")[0].children.length>0?(t.closePageEvent=function(){""!=e&&null!=e&&dispatchText(e)},t.closePage()):dispatchText(e)}function s(){u$.ajax("/text/intro.otw",null,function(e){setTimeout(function(){!function e(n,o){var i=document.createElement("span");var s=n.charAt(o);var u=n.charCodeAt(o);32==u&&(s="&nbsp;");if(58==u)return function(){u$(".output_wrap")[0].offsetTop,u$(".output_wrap")[0].offsetHeight;u$(".input_box")[0].appendChild(u$(".cursor")[0]),u$(".input_box")[0].style.display="block"}(),menu.init(),menu.showMenu(),t.isHook=!0,!1,document.addEventListener("keydown",function(e){var n=0;if(n=e.which?e.which:e.keyCode,t.isHook)if(t.scrollUp(),n>64&&n<91||n>96&&n<123)c(String.fromCharCode(n).toLowerCase());else if(8==n)!function(){if(u$(".input_box > .blast").length>0){var e=u$(".input_box > .blast").get(u$(".input_box > .blast").length-1)[0];u$(".input_box")[0].removeChild(e)}}();else if(32==n)c("&nbsp;");else{if(13!=n)return!0;new u$.promise(function(e,n){for(var o=u$(".input_box > .blast").length,i="",a=0;a<o;a++)i+=u$(".input_box > .blast").get(a)[0].innerText;!function(){for(var e=u$(".input_box > .blast"),t=0;t<e.length;t++)u$(".input_box")[0].removeChild(e[t])}(),t.print("GUEST : "+i),t.branch(i),e()}).then(function(){t.scrollUp()})}}),u$("a.contact")[0].style.display="block",u$("a.contact")[0].classList.add("bounceIn"),u$("a.contact")[0].classList.add("animated"),setTimeout(function(){u$("a.contact")[0].classList.remove("bounceIn"),u$("a.contact")[0].classList.remove("animated")},1200),""==window.location.hash?setTimeout(function(){menu.toggleDetailMenu()},1e3):a(),!1;10==u?i=document.createElement("br"):(i.setAttribute("class","blast animated bounceIn"),i.addEventListener("mouseover",function(){i.classList.add("rubberBand"),i.classList.add("animated"),setTimeout(function(){i.classList.remove("rubberBand"),i.classList.remove("animated")},1200)}),i.innerHTML=s,i.style.opacity=1,setTimeout(function(){i.classList.remove("animated"),i.classList.remove("bounceIn")},2e3));u$(".system_wrap")[0].insertBefore(i,u$(".cursor")[0]);o+=1;o<n.length&&setTimeout(function(){e(n,o)},100)}(e,0)},200)})}function c(e){var t=document.createElement("span");t.setAttribute("class","blast animated bounceIn"),t.innerHTML=e,t.style.opacity=1,setTimeout(function(){t.classList.remove("animated"),t.classList.remove("bounceIn")},2e3),u$(".input_box")[0].insertBefore(t,u$(".cursor")[0])}function u(e,t){var n=null,i=e.charCodeAt(t);0==t&&(o=!0),e.length>t?(document.createEventObject?((n=document.createEventObject()).keyCode=i,document.fireEvent("onkeydown",n),n.keyCode=i,document.dispatchEvent(n)):((n=document.createEvent("Events")).initEvent("keydown",!0,!0),n.which=i,n.keyCode=i,document.dispatchEvent(n)),t+=1,setTimeout(function(){u(e,t)},100)):(document.createEventObject?((n=document.createEventObject()).keyCode=13,document.fireEvent("onkeydown",n),n.keyCode=13,document.dispatchEvent(n)):((n=document.createEvent("Events")).initEvent("keydown",!0,!0),n.which=13,n.keyCode=13,document.dispatchEvent(n)),o=!1)}function r(){var e=window.innerWidth,t=window.innerHeight,n=u$(".container")[0],o=u$(".console_wrap")[0];if(null!=n&&(n.style.width=e+"px",n.style.height=t+"px"),null!=o&&"2px"==o.style.height?(o.style.width="0px",o.style.left="0px",o.style.top=t/2+"px"):(o.style.height=t+"px",o.style.top="0px",o.style.left="0px",o.style.width=e+"px"),u$(".page_wrap")[0].children.length>0){var i=u$(".wrap")[0].style.transform.replace("translate3d","").replace("(","").replace(")","").replace(/px/gi,"").trim().split(",");Number(i[0].trim())<0?i[0]=-window.innerWidth:Number(i[0].trim())>0&&(i[0]=window.innerWidth),Number(i[1].trim())<0?i[1]=-window.innerHeight:Number(i[1].trim())>0&&(i[1]=window.innerHeight),u$(".wrap")[0].style.transform="translate3d("+i[0]+"px,"+i[1]+"px,"+i[2]+"px)"}}function l(){n?u$(".cursor").isVisible()?u$(".cursor")[0].style.display="none":u$(".cursor")[0].style.display="block":u$(".cursor")[0].style.display="none",setTimeout(function(){l()},350)}document.addEventListener("DOMContentLoaded",function(){r(),u$("a.contact")[0].addEventListener("click",function(){return o||u("contact",0),!1}),u$("a.contact")[0].addEventListener("mouseover",function(){u$("a.contact")[0].classList.add("rubberBand"),u$("a.contact")[0].classList.add("animated"),setTimeout(function(){u$("a.contact")[0].classList.remove("rubberBand"),u$("a.contact")[0].classList.remove("animated")},1200)}),u$(".container")[0].addEventListener(i,function(e){var t,n,o,i,a,s,c=e.deltaY;c>0?(t=u$(".input_wrap")[0].offsetTop,n=Number(u$(".console_container")[0].style.top.replace("px","")),o=.85*window.innerHeight,i=t-(o+Math.abs(n)),a=0,i>0&&(a=Math.abs(i)<20?n-i:n-20,u$(".console_container")[0].style.top=a+"px")):((s=Number(u$(".console_container")[0].style.top.replace("px",""))+20)>0&&(s=0),u$(".console_container")[0].style.top=s+"px")}),setTimeout(function(){setTimeout(function(){n=!0,l(),s()},350)},100)}),e.addEventListener("resize",function(){r(),t.scrollUp(),timeline.resize()}),e.addEventListener("hashchange",function(e){console.log(e),"hashchange"==e.type?(console.log("hashChange"),a()):console.log("other event ")}),e.dispatchText=function(e){o||u(e,0)}}(window);