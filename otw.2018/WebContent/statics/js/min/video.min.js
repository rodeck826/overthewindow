!function(e){var t=vp=function(e){return vp.init(e)},i={};function a(){if(!i.video.paused){i.time.innerText=n(Math.floor(i.video.currentTime));var e=Math.floor(i.video.currentTime/i.video.duration*100);i.progress.style.width=e+"%",setTimeout(a,1e3)}}function n(e){var t=e%60;return(Math.floor(e/60)+"").lpad("0",2)+":"+(t+"").lpad("0",2)}vp.init=function(e){var t,d,r,s,l,p,o,c,v,u=(t=document.createElement("div"),d=document.createElement("div"),r=document.createElement("video"),s=document.createElement("div"),l=document.createElement("a"),p=document.createElement("i"),o=document.createElement("div"),c=document.createElement("span"),v=document.createElement("span"),t.setAttribute("class","video_player"),d.setAttribute("class","video"),s.setAttribute("class","video_navigator"),l.setAttribute("href","javascript:;"),l.setAttribute("class","btn_player"),p.setAttribute("class","fa fa-play"),o.setAttribute("class","bar"),c.setAttribute("class","progress"),v.setAttribute("class","time"),o.appendChild(c),l.appendChild(p),s.appendChild(l),s.appendChild(o),s.appendChild(v),d.appendChild(r),t.appendChild(d),t.appendChild(s),t);u$(".video_wrap").find(".video_player").length>0&&u$(".video_wrap").find(".video_player")[0].remove(),u$(".video_wrap")[0].appendChild(u),(i={path:null,wrap:u$(".video_wrap")[0],player:u$(".video_player")[0],video:u$(".video_player").find("video")[0],time:u$(".video_player").find(".time")[0],progress:u$(".video_player").find(".progress")[0],btn:{play:"fa-play",stop:"fa-stop",pause:"fa-pause"},played:!1}).video.src=e,wating.showWatingView(),i.video.addEventListener("loadeddata",function(){wating.hideWatingView()}),i.status=i.player.getAttribute("data-status");var m=function(){var e=u$(i.player).find(".btn_player")[0];i.video.paused?(i.video.play(),a(),e.children[0].classList.add(i.btn.pause),e.children[0].classList.remove(i.btn.play),e.children[0].classList.remove(i.btn.stop)):(e.children[0].classList.add(i.btn.play),e.children[0].classList.remove(i.btn.pause),e.children[0].classList.remove(i.btn.stop),i.video.pause())};return u$(i.player).find(".btn_player")[0].addEventListener("click",m),u$(i.wrap).find(".btn_page_close")[0].addEventListener("click",function(){var e=u$(i.player).find(".btn_player")[0];i.video.src="",i.time.innerText="",i.progress.style.width="0",i.wrap.style.display="none",e.children[0].classList.add(i.btn.play),e.children[0].classList.remove(i.btn.pause),e.children[0].classList.remove(i.btn.stop),e.removeEventListener("click",m),i.video.pause()}),i.video.addEventListener("ended",function(){var e=u$(i.player).find(".btn_player")[0];i.progress.style.width="100%",e.children[0].classList.add(i.btn.play),e.children[0].classList.remove(i.btn.pause),e.children[0].classList.remove(i.btn.stop),i.time.innerText=n(i.video.duration)}),vp},vp.show=function(){i.wrap.style.display="block"},e.videoPlayer=t}(window);